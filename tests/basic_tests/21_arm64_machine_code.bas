10 REM Test ARM64 machine code execution
20 PRINT "Testing ARM64 machine code USR calls..."
30 PRINT ""
40 
50 REM Test 1: Simple addition
60 PRINT "Test 1: Addition (15 + 27)"
70 PUTA = 15
80 PUTB = 27
90 DEFUSR = 1000
100 RESULT = USR()
110 PRINT "PUTA=15, PUTB=27, USR(add)="; RESULT
120 IF RESULT = 42 THEN PRINT "PASS" ELSE PRINT "FAIL"
130 PRINT ""
140 
150 REM Test 2: Subtraction
160 PRINT "Test 2: Subtraction (50 - 23)"
170 PUTA = 50
180 PUTB = 23
190 DEFUSR = 1100
200 RESULT = USR()
210 PRINT "PUTA=50, PUTB=23, USR(sub)="; RESULT
220 IF RESULT = 27 THEN PRINT "PASS" ELSE PRINT "FAIL"
230 PRINT ""
240 
250 REM Test 3: Multiplication
260 PRINT "Test 3: Multiplication (8 * 7)"
270 PUTA = 8
280 PUTB = 7
290 DEFUSR = 1200
300 RESULT = USR()
310 PRINT "PUTA=8, PUTB=7, USR(mul)="; RESULT
320 IF RESULT = 56 THEN PRINT "PASS" ELSE PRINT "FAIL"
330 PRINT ""
340 
350 REM Test 4: Square
360 PRINT "Test 4: Square (9 * 9)"
370 PUTA = 9
380 PUTB = 0
390 DEFUSR = 1300
400 RESULT = USR()
410 PRINT "PUTA=9, USR(square)="; RESULT
420 IF RESULT = 81 THEN PRINT "PASS" ELSE PRINT "FAIL"
430 PRINT ""
440 
450 REM Test 5: Negation
460 PRINT "Test 5: Negation (-42)"
470 PUTA = 42
480 PUTB = 0
490 DEFUSR = 1400
500 RESULT = USR()
510 PRINT "PUTA=42, USR(negate)="; RESULT
520 IF RESULT = -42 THEN PRINT "PASS" ELSE PRINT "FAIL"
530 PRINT ""
540 
550 REM Test 6: Absolute value
560 PRINT "Test 6: Absolute value (-100)"
570 PUTA = -100
580 PUTB = 0
590 DEFUSR = 1500
600 RESULT = USR()
610 PRINT "PUTA=-100, USR(abs)="; RESULT
620 IF RESULT = 100 THEN PRINT "PASS" ELSE PRINT "FAIL"
630 PRINT ""
640 
650 REM Test 7: Get date
660 PRINT "Test 7: Get date"
670 PUTA = 0
680 PUTB = 0
690 DEFUSR = 1600
700 RESULT = USR()
710 PRINT "USR(date)="; RESULT
720 IF RESULT = 20260128 THEN PRINT "PASS" ELSE PRINT "FAIL"
730 PRINT ""
740 
750 REM Test 8: Register access via GETA/GETB
760 PRINT "Test 8: Register read functions"
770 PUTA = 123
780 PUTB = 456
790 X = GETA()
800 Y = GETB()
810 PRINT "After PUTA=123, PUTB=456:"
820 PRINT "GETA()="; X; ", GETB()="; Y
830 IF X = 123 AND Y = 456 THEN PRINT "PASS" ELSE PRINT "FAIL"
840 PRINT ""
850 
860 PRINT "All ARM64 machine code tests complete!"
870 END
