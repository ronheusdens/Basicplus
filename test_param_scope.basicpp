REM Test that parameters properly shadow and restore
PROCEDURE TestParam(X)
    PRINT "  In proc:   X =", X
    LET X = X * 2
    PRINT "  Modified:  X =", X
    RETURN X
END PROCEDURE

PRINT "Before call: X = 5"
LET X = 5

PRINT "Calling TestParam(3)"
LET Result = TestParam(3)

PRINT "After call: X =", X
PRINT "Result =", Result

REM X should still be 5 since parameter was local!
IF X = 5 THEN
    PRINT "CORRECT: Parameter did not modify global X"
ELSE
    PRINT "ERROR: Parameter modified global X"
ENDIF

END
